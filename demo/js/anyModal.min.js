/*! anyModal - v1.0.0 - 2017-03-17
* https://github.com/SubZane/anymodal
* Copyright (c) 2017 Andreas Norman; Licensed MIT */
!function(a,b){"function"==typeof define&&define.amd?define([],b(a)):"object"==typeof exports?module.exports=b(a):a.anyModal=b(a)}("undefined"!=typeof global?global:this.window||this.global,function(a){"use strict";var b,c,d,e,f={},g={element:null,name:"",isFed:!1,ajaxdataurl:""},h=!!document.querySelector&&!!a.addEventListener,i=document.documentElement.clientHeight,j={transitiontime:300,redrawOnResize:!0,logerrors:!1,onInit:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){}},k=function(){var a=document.createElement("div");a.className="scrollbar-measure",document.body.appendChild(a),d=a.offsetWidth-a.clientWidth,document.body.removeChild(a)},l=function(){document.querySelector("body").innerHTML+='<div class="am-overlay"></div>',e=document.querySelector(".am-overlay")},m=function(){return!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)},n=function(){return document.body.scrollHeight>document.documentElement.clientHeight},o=function(){i=window.innerHeight,p()},p=function(){g.element.style.height=i},q=function(){p(g.name),n()===!0&&m()===!1&&(document.querySelector("body").style.marginRight=d+"px"),document.querySelector("body").classList.add("am-modal-locked"),document.querySelector("html").classList.add("am-modal-locked"),e.classList.add("fadein"),g.element.classList.add("am-show"),setTimeout(function(){g.element.classList.add("am-animation-done")},b.transitiontime),g.element.querySelector(".am-cross").addEventListener("click",function(a){a.preventDefault(),r()})},r=function(){g.element.classList.remove("am-show"),g.element.classList.remove("am-animation-done"),e.classList.add("fadeout"),setTimeout(function(){e.classList.remove("fadein"),e.classList.remove("fadeout"),document.querySelector("body").classList.remove("am-modal-locked"),document.querySelector("html").classList.remove("am-modal-locked"),document.querySelector("body").style.marginRight="",g.element.classList.remove(g.effect)},b.transitiontime)},s=function(a){void 0!==b[a]&&b[a].call(c)},t=function(a,b){var c={};return u(a,function(b,d){c[d]=a[d]}),u(b,function(a,d){c[d]=b[d]}),c},u=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;e<f;e++)b.call(c,a[e],e,a)};return f.destroy=function(){b&&(document.documentElement.classList.remove(b.initClass),document.removeEventListener("click",eventHandler,!1),b=null,eventTimeout=null,s("onDestroy"))},f.init=function(a){if(h){f.destroy(),k(),b=t(j,a||{}),c=document.querySelector(b.container),l();u(document.querySelectorAll("[data-modal]"),function(a,c){a.addEventListener("click",function(c){c.preventDefault(),g.name=a.getAttribute("data-modal"),g.effect=a.getAttribute("data-effect"),g.element=document.querySelector("#"+g.name),g.element.classList.add(g.effect),g.element.style.display="none";g.element.offsetHeight;if(g.element.style.display="","click touchmove touchend touchleave touchcancel".split(" ").forEach(function(a){e.addEventListener(a,function(a){a.target===this&&r()})}),b.redrawOnResize===!0){var d;clearTimeout(d),d=setTimeout(o,100)}window.addEventListener("orientationchange",function(){p()}),q()})}),s("onInit")}},f.closePanels=function(){r()},f});
/*! rModal - v1.0.0 - 2016-08-25
* https://github.com/SubZane/rmodal
* Copyright (c) 2016 Andreas Norman; Licensed MIT */
var rModal=function(){var a,b,c=document.documentElement.clientHeight,d={element:null,name:"",isFed:!1,ajaxdataurl:""},e={transitiontime:300,redrawOnResize:!0,logerrors:!1},f=function(b){options=o(e,b||{}),j(),g();var c=document.querySelectorAll("[data-modal]");p(c,function(b,c){b.addEventListener("click",function(c){c.preventDefault(),d.name=b.getAttribute("data-modal"),d.effect=b.getAttribute("data-effect"),d.element=document.querySelector("#"+d.name),d.element.classList.add(d.effect),d.element.style.display="none";d.element.offsetHeight;if(d.element.style.display="","click touchmove touchend touchleave touchcancel".split(" ").forEach(function(b){a.addEventListener(b,function(a){a.target===this&&n()})}),options.redrawOnResize===!0){var e;clearTimeout(e),e=setTimeout(k,100)}window.addEventListener("orientationchange",function(){l()}),m()})})},g=function(){document.querySelector("body").innerHTML+='<div class="rm-overlay"></div>',a=document.querySelector(".rm-overlay")},h=function(){return/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)?!0:!1},i=function(){var a=document.body.scrollHeight,b=document.documentElement.clientHeight,c=a>b;return c},j=function(){var a=document.createElement("div");a.style.visibility="hidden",a.style.width="100px",a.style.msOverflowStyle="scrollbar",document.body.appendChild(a);var c=a.offsetWidth;a.style.overflow="scroll";var d=document.createElement("div");d.style.width="100%",a.appendChild(d);var e=d.offsetWidth;a.parentNode.removeChild(a),b=c-e},k=function(){c=window.innerHeight,l()},l=function(){d.element.style.height=c},m=function(){l(d.name),i()===!0&&h()===!1&&(document.querySelector("body").style.marginRight=b+"px"),document.querySelector("body").classList.add("rm-modal-locked"),document.querySelector("html").classList.add("rm-modal-locked"),a.classList.add("fadein"),d.element.classList.add("rm-show"),setTimeout(function(){d.element.classList.add("rm-animation-done")},options.transitiontime),d.element.querySelector(".rm-cross").addEventListener("click",function(a){a.preventDefault(),n()})},n=function(){d.element.classList.remove("rm-show"),d.element.classList.remove("rm-animation-done"),a.classList.add("fadeout"),setTimeout(function(){a.classList.remove("fadein"),a.classList.remove("fadeout"),document.querySelector("body").classList.remove("rm-modal-locked"),document.querySelector("html").classList.remove("rm-modal-locked"),document.querySelector("body").style.marginRight="",d.element.classList.remove(d.effect)},options.transitiontime)},o=function(a,b){var c={};return p(a,function(b,d){c[d]=a[d]}),p(b,function(a,d){c[d]=b[d]}),c},p=function(a,b,c){if("[object Object]"===Object.prototype.toString.call(a))for(var d in a)Object.prototype.hasOwnProperty.call(a,d)&&b.call(c,a[d],d,a);else for(var e=0,f=a.length;f>e;e++)b.call(c,a[e],e,a)};return{init:f}}();
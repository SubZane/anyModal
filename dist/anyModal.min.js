/*! anyModal - v1.1.0 - 2018-10-11
* https://www.andreasnorman.com/anyModal/
* Copyright (c) 2018 ; Licensed  */

!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.anyModal=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";var c,r,d,s,u={},m={element:null,name:"",effect:"am-effect-1",title:"",url:null},f=!!document.querySelector&&!!e.addEventListener,t=document.documentElement.clientHeight,y={transitiontime:300,redrawOnResize:!0,logerrors:!1,backgroundscroll:!0,onInit:function(){},onCreateModal:function(){},onDestroyModal:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},OnOrientationChange:function(){},onLoadModalContent:function(){},afterWindowResize:function(){}},o=function(e,t,n){var o=document.createElement("div");for(o.innerHTML=t;0<o.children.length;)e.appendChild(o.children[0]);n(!0)},v=function(){t=window.innerHeight,h(),L("afterWindowResize")},h=function(){m.element.style.height=t},g=function(){var e,t,n;!0==(e=document.body.scrollHeight,document.documentElement.clientHeight<e)&&!1==!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.querySelector("body").style.marginRight=d+"px"),c.backgroundscroll&&(document.querySelector("body").classList.add("am-modal-locked"),document.querySelector("html").classList.add("am-modal-locked")),s.classList.add("fadein"),null!==m.url&&null===document.querySelector("#"+m.name)?(t=function(e){var t,n;h(),t=function(e){o(m.element.querySelector(".am-inner"),m.data,function(e){m.element.classList.add("am-show"),setTimeout(function(){m.element.classList.add("am-animation-done")},c.transitiontime),m.element.querySelector(".am-cross").addEventListener("click",function(e){e.preventDefault(),p()})})},(n=new XMLHttpRequest).open("GET",m.url,!0),n.onload=function(){200<=n.status&&n.status<400?(m.data=n.response,L("onLoadModalContent"),t(!0)):options.logerrors&&(console.log("An error occured when trying to load data from "+m.url),t(!1))},n.onerror=function(){options.logerrors&&(console.log("A connection error occured when trying to access "+m.url),t(!1))},n.send()},n='<div class="am-modal" id="'+m.name+'"><div class="am-content"><div class="am-header"><h3>'+m.title+'</h3><a href="#" class="am-cross"><img src="img/cross.svg" width="19" height="19" alt="" /></a></div><div class="am-inner"></div></div></div>',o(document.body,n,function(e){m.element=document.querySelector("#"+m.name),m.element.classList.add(m.effect),m.element.style.display="none",m.element.offsetHeight,m.element.style.display=""}),L("onCreateModal"),t(!0)):(h(),m.element.classList.add("am-show"),setTimeout(function(){m.element.classList.add("am-animation-done")},c.transitiontime),m.element.querySelector(".am-cross").addEventListener("click",function(e){e.preventDefault(),p()}))},p=function(){m.element.classList.remove("am-show"),m.element.classList.remove("am-animation-done"),s.classList.add("fadeout"),setTimeout(function(){s.classList.remove("fadein"),s.classList.remove("fadeout"),document.querySelector("body").classList.remove("am-modal-locked"),document.querySelector("html").classList.remove("am-modal-locked"),document.querySelector("body").style.marginRight="",m.element.classList.remove(m.effect),null!==m.url&&(m.element.remove(),L("onDestroyModal"))},c.transitiontime),L("onClose")},L=function(e){void 0!==c[e]&&c[e].call(r)},b=function(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var i=0,l=e.length;i<l;i++)t.call(n,e[i],i,e)};return u.destroy=function(){c&&(document.documentElement.classList.remove(c.initClass),document.removeEventListener("click",eventHandler,!1),window.removeEventListener("orientationchange",eventHandler,!1),c=null,eventTimeout=null,L("onDestroy"))},u.init=function(e){if(f){var t,n,o,i,l;u.destroy(),(t=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(t),d=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o=e||{},i={},b(n=y,function(e,t){i[t]=n[t]}),b(o,function(e,t){i[t]=o[t]}),c=i,r=document.querySelector(c.container),(l=document.createElement("div")).classList.add("am-overlay"),document.body.appendChild(l),s=document.querySelector(".am-overlay"),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(e){s.addEventListener(e,function(e){e.target===this&&p()})});var a=document.querySelectorAll("[data-modal]");b(a,function(n,e){n.addEventListener("click",function(e){if(e.preventDefault(),m.name=n.getAttribute("data-modal"),m.effect=n.getAttribute("data-effect"),m.url=n.getAttribute("data-url"),m.title=n.getAttribute("data-title"),null===m.url){m.element=document.querySelector("#"+m.name),m.element.classList.add(m.effect),m.element.style.display="none";m.element.offsetHeight;m.element.style.display=""}var t;!0===c.redrawOnResize&&(clearTimeout(t),t=setTimeout(v,100));window.addEventListener("orientationchange",function(){h(),L("OnOrientationChange")}),g()})}),L("onInit")}},u.closePanels=function(){p()},u});
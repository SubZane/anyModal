!function(e,t){"function"==typeof define&&define.amd?define([],t(e)):"object"==typeof exports?module.exports=t(e):e.anyModal=t(e)}("undefined"!=typeof global?global:this.window||this.global,function(e){"use strict";function l(){t=window.innerHeight,a(),p("afterWindowResize")}function a(){v.element.style.height=t}function c(){var e,t;!0==(e=document.body.scrollHeight,document.documentElement.clientHeight<e)&&!1==!!/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(document.querySelector("body").style.marginRight=m+"px"),s.backgroundscroll||(document.querySelector("body").classList.add("am-modal-locked"),document.querySelector("html").classList.add("am-modal-locked")),f.classList.add("fadein"),null!==v.url&&null===document.querySelector("#"+v.name)?(e=function(e){var t,n;a(),t=function(e){o(v.element.querySelector(".am-inner"),v.data,function(e){v.element.classList.add("am-show"),setTimeout(function(){v.element.classList.add("am-animation-done")},s.transitiontime),v.element.querySelector(".am-cross").addEventListener("click",function(e){e.preventDefault(),r()})})},(n=new XMLHttpRequest).open("GET",v.url,!0),n.onload=function(){200<=n.status&&n.status<400?(v.data=n.response,p("onLoadModalContent"),t(!0)):options.logerrors&&(console.log("An error occured when trying to load data from "+v.url),t(!1))},n.onerror=function(){options.logerrors&&(console.log("A connection error occured when trying to access "+v.url),t(!1))},n.send()},t='<div class="am-modal" id="'+v.name+'"><div class="am-content"><div class="am-header"><h3>'+v.title+'</h3><a href="#" class="am-cross"><img src="img/cross.svg" width="19" height="19" alt="" /></a></div><div class="am-inner"></div></div></div>',o(document.body,t,function(e){v.element=document.querySelector("#"+v.name),v.element.classList.add(v.effect),v.element.style.display="none";v.element.offsetHeight;v.element.style.display=""}),p("onCreateModal"),e(!0)):(a(),v.element.classList.add("am-show"),setTimeout(function(){v.element.classList.add("am-animation-done")},s.transitiontime),v.element.querySelector(".am-cross").addEventListener("click",function(e){e.preventDefault(),r()}))}function r(){v.element.classList.remove("am-show"),v.element.classList.remove("am-animation-done"),f.classList.add("fadeout"),setTimeout(function(){f.classList.remove("fadein"),f.classList.remove("fadeout"),document.querySelector("body").classList.remove("am-modal-locked"),document.querySelector("html").classList.remove("am-modal-locked"),document.querySelector("body").style.marginRight="",v.element.classList.remove(v.effect),null!==v.url&&(v.element.remove(),p("onDestroyModal"))},s.transitiontime),p("onClose")}function d(e,t,n){if("[object Object]"===Object.prototype.toString.call(e))for(var o in e)Object.prototype.hasOwnProperty.call(e,o)&&t.call(n,e[o],o,e);else for(var i=0,l=e.length;i<l;i++)t.call(n,e[i],i,e)}var s,u,m,f,y={},v={element:null,name:"",effect:"am-effect-1",title:"",url:null},h=!!document.querySelector&&!!e.addEventListener,t=document.documentElement.clientHeight,g={transitiontime:300,redrawOnResize:!0,logerrors:!1,backgroundscroll:!0,onInit:function(){},onCreateModal:function(){},onDestroyModal:function(){},onOpen:function(){},onClose:function(){},onDestroy:function(){},OnOrientationChange:function(){},onLoadModalContent:function(){},afterWindowResize:function(){}},o=function(e,t,n){var o=document.createElement("div");for(o.innerHTML=t;0<o.children.length;)e.appendChild(o.children[0]);n(!0)},p=function(e){void 0!==s[e]&&s[e].call(u)};return y.destroy=function(){s&&(document.documentElement.classList.remove(s.initClass),document.removeEventListener("click",eventHandler,!1),window.removeEventListener("orientationchange",eventHandler,!1),eventTimeout=s=null,p("onDestroy"))},y.init=function(e){var n,o,i,t;h&&(y.destroy(),(t=document.createElement("div")).className="scrollbar-measure",document.body.appendChild(t),m=t.offsetWidth-t.clientWidth,document.body.removeChild(t),o=e||{},i={},d(n=g,function(e,t){i[t]=n[t]}),d(o,function(e,t){i[t]=o[t]}),s=i,u=document.querySelector(s.container),(t=document.createElement("div")).classList.add("am-overlay"),document.body.appendChild(t),f=document.querySelector(".am-overlay"),"click touchmove touchend touchleave touchcancel".split(" ").forEach(function(e){f.addEventListener(e,function(e){e.target===this&&r()})}),e=document.querySelectorAll("[data-modal]"),d(e,function(n,e){n.addEventListener("click",function(e){var t;e.preventDefault(),v.name=n.getAttribute("data-modal"),v.effect=n.getAttribute("data-effect"),v.url=n.getAttribute("data-url"),v.title=n.getAttribute("data-title"),null===v.url&&(v.element=document.querySelector("#"+v.name),v.element.classList.add(v.effect),v.element.style.display="none",v.element.offsetHeight,v.element.style.display=""),!0===s.redrawOnResize&&(clearTimeout(t),t=setTimeout(l,100)),window.addEventListener("orientationchange",function(){a(),p("OnOrientationChange")}),c()})}),p("onInit"))},y.closePanels=function(){r()},y});